{"version":3,"sources":["services/httpService.js","services/asyncStorageService.js","services/stayService.js","store/actions/stayActions.js","store/actions/orderActions.js","cmps/GuestModal.jsx","services/utilService.js","cmps/StayFilter.jsx","cmps/UserModal.jsx","services/socketService.js","services/userService.js","cmps/Header.jsx","store/actions/userActions.js","cmps/Hero.jsx","assets/img/1.jpg","assets/img/2.jpg","assets/img/3.jpg","assets/img/4.jpg","assets/img/5.jpg","assets/img/6.jpg","assets/img/7.jpg","assets/img/8.jpg","cmps/Nearby.jsx","assets/img/paris2.jpg","assets/img/london2.jpg","assets/img/newyork2.jpg","assets/img/rome2.jpg","cmps/Anywhere.jsx","assets/img/get-inspired.jpg","cmps/GetInspired.jsx","assets/img/become-a-host.jpg","cmps/BecomeHost.jsx","pages/Home.jsx","pages/LoginSignup.jsx","cmps/NavBar.jsx","cmps/StayMap.jsx","cmps/SelectDates.jsx","cmps/Amenities.jsx","cmps/Reviews.jsx","cmps/StayMainInfo.jsx","cmps/CheckAvailability.jsx","cmps/StayDesc.jsx","cmps/Alert.jsx","pages/StayDetails.jsx","cmps/ImgCarousel.jsx","cmps/TxtLength.jsx","cmps/StayPreview.jsx","cmps/StayList.jsx","cmps/LoaderCmp.jsx","pages/StayApp.jsx","assets/img/trips.jpg","pages/Trips.jsx","assets/img/dashboard.png","pages/Dashboard.jsx","cmps/Footer.jsx","App.jsx","serviceWorkerRegistration.js","store/reducers/systemReducer.js","store/reducers/orderReducer.js","store/reducers/userReducer.js","store/reducers/stayReducer.js","store/reducers/index.js","store/store.js","reportWebVitals.js","index.js"],"names":["BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","console","log","a","method","url","params","res","dir","response","status","window","location","assign","storageService","query","get","entityType","entityId","then","entities","stays","find","entity","_id","post","newEntity","_makeId","push","_save","put","updatedEntity","idx","findIndex","splice","remove","JSON","parse","localStorage","getItem","Promise","resolve","setItem","stringify","length","text","possible","i","charAt","Math","floor","random","gStays","require","stayService","add","stayId","delete","getById","filterBy","filterRegex","RegExp","filter","stay","test","loc","address","addedStay","loadStays","dispatch","type","setLocation","order","err","setDates","setGuestAmount","GuestModal","isModalShown","updateGuestsAmount","guestAmount","className","onClick","ev","adults","children","infants","utilService","delay","ms","setTimeout","getRandomInt","min","max","ceil","makeId","txt","formatTime","date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","_StayFilter","state","startDate","endDate","x","y","handleMouseMove","event","setState","clientX","clientY","handleChange","target","name","value","toggleModal","typeOfGuest","diff","stopPropagation","preventDefault","updatedOrder","props","dates","updatedStartDate","updatedEndDate","onSubmit","history","this","style","backgroundPosition","htmlFor","id","placeholder","onChange","placeholderText","selected","monthsShown","dateFormat","minDate","Date","selectsRange","shouldCloseOnSelect","onMouseMove","Component","StayFilter","withRouter","UserModal","loggedInUser","logout","to","isHost","socketService","socket","setup","io","reconnection","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","userService","login","signup","getUsers","userId","update","getLoggedinUser","addOrder","hostId","host","user","incomingOrders","myOrder","guest","orders","_saveLocalUser","credentials","userInfo","sessionStorage","clear","_Header","isUserModalShown","goToHomepage","resetOrder","onLogout","exact","role","aria-label","toggleUserModal","src","img","alt","mapDispatchToProps","emptyOrder","Header","connect","userModule","Hero","Nearby","places","telAviv","time","Jerusalem","Eilat","Haifa","Netanya","Herzliya","RamatGan","Tveria","map","place","Anywhere","paris2","london2","newYork2","rome2","GetInspired","inspierdImg","BecomeHost","_Home","Home","stayModule","orderModule","currOrder","_LoginSignup","fullname","username","password","pageMode","validate","values","errors","onLogin","onSignup","styledField","TextField","variant","color","loggedinUser","pathname","goBack","loginErr","initialValues","label","as","component","validateOnChange","validateOnBlur","LoginSignup","NavBar","_GoogleMap","pos","adddress","lat","lng","google","zoom","center","containerStyle","width","height","marginTop","position","StayMap","GoogleApiWrapper","apiKey","SelectDates","inline","Amenities","amenities","getAmenitiesIcons","Reviews","reviews","review","by","imgUrl","cols","rows","Button","StayMainInfo","rate","imgUrls","CheckAvailability","getGuestsNum","changeBtn","getTotalDays","isChargeShown","price","StayDesc","capacity","includes","summary","fontSize","backgroundColor","right","bottom","zIndex","ColorAlerts","Alert","severity","_StayDetails","isSecondClick","toggleCharge","fullName","country","end","start","getTime","setStay","match","currStay","StayDetails","ImgCarousel","fullHeightHover","animation","swipe","timeout","autoPlay","navButtonsProps","indicatorIconButtonProps","indicatorContainerProps","activeIndicatorIconButtonProps","TxtLength","isLongShown","onToggleShow","isOver20","shortTxt","slice","StayPreview","StayList","LoaderCmp","_StayApp","isLoading","getFilterBy","search","URLSearchParams","prevProps","prevState","currLocation","minHeight","StayApp","_Trips","trips","Trips","_Dashboard","loadUser","accepteOrder","rejectOrder","dashboard","Dashboard","Footer","App","path","Boolean","hostname","initialState","localLoggedinUser","rootReducer","combineReducers","systemModule","action","orderId","users","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.20a7d1c0.chunk.js","sourcesContent":["import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV !== 'development'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        console.log('endpoint', endpoint)\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login')\r\n        }\r\n        throw err\r\n    }\r\n}","\r\n\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n}\r\n\r\nfunction query(entityType) {\r\n    var entities = JSON.parse(localStorage.getItem(entityType)) || []\r\n    return Promise.resolve(entities)\r\n}\r\n\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n    .then(entities => entities.stays.find(entity => entity._id === entityId))\r\n    \r\n}\r\n\r\nfunction post(entityType, newEntity) {\r\n    newEntity._id = _makeId()\r\n    return query(entityType)\r\n        .then(entities => {\r\n            entities.push(newEntity)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\n\r\n\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    // console.log(entityType, updatedEntity);\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId)\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\n\r\n\r\nfunction _save(entityType, entities) {\r\n    console.log('entityType FROM SAVE!', entityType)\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return text\r\n}","import { httpService } from './httpService'\r\nimport { storageService } from './asyncStorageService'\r\n// import userService from './userService'\r\n// import { utilService } from './utilService'\r\nconst KEY_STORAGE = 'stay'\r\nconst gStays = require('../data/airbnb.json')\r\nlocalStorage.setItem(KEY_STORAGE, JSON.stringify(gStays))\r\n\r\nexport const stayService = {\r\n  add,\r\n  query,\r\n  remove,\r\n  getById\r\n}\r\n\r\nasync function query(filterBy) {\r\n  let stays = await httpService.get('stay', filterBy)\r\n  if (filterBy.location) {\r\n    const filterRegex = new RegExp(filterBy.location, 'i')\r\n    stays = stays.filter(stay => filterRegex.test(stay.loc.address))\r\n  } \r\n  return Promise.resolve(stays)\r\n}\r\n\r\n\r\nasync function getById(stayId) {\r\n  try {\r\n      return await httpService.get(`stay/${stayId}`)\r\n  } catch (err) {\r\n      throw err\r\n  }\r\n}\r\n\r\n\r\nfunction remove(stayId) {\r\n  // return httpService.delete(`stay/${stayId}`)\r\n  return storageService.delete('stay', stayId)\r\n\r\n}\r\nasync function add(stay) {\r\n  // const addedStay = await httpService.post(`stay`, stay)\r\n\r\n  // stay.byUser = userService.getLoggedinUser()\r\n  // stay.aboutUser = await userService.getById(stay.aboutUserId)\r\n  const addedStay = storageService.post('stay', stay)\r\n\r\n  return addedStay\r\n}\r\n","import { stayService } from '../../services/stayService'\r\n// import { userService } from '../../services/userService'\r\n// import { socketService, SOCKET_EVENT_stay_ADDED } from '../../services/socketService'\r\n\r\n\r\nexport function loadStays(filterBy) {\r\n  return async dispatch => {\r\n    try {\r\n      const stays = await stayService.query(filterBy)\r\n      dispatch({ type: 'LOAD_STAYS', stays })\r\n\r\n      // socketService.on(SOCKET_EVENT_stay_ADDED, stay =>{\r\n      //   dispatch({ type: 'ADD_stay', stay })\r\n      // })\r\n\r\n    } catch (err) {\r\n      console.log('stayActions: err in loadstays', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function addStay(stay) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedStay = await stayService.add(stay)\r\n      dispatch({ type: 'ADD_STAY', stay: addedStay })\r\n     \r\n    } catch (err) {\r\n      console.log('stayActions: err in addStay', err)\r\n    }\r\n  }\r\n}\r\nexport function setStay(stayId) {\r\n  return async dispatch => {\r\n    try {\r\n      const currStay = await stayService.getById(stayId)\r\n      dispatch({ type: 'SET_STAY', currStay })\r\n    } catch (err) {\r\n      console.log('stayActions: err in currStay', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeStay(stayId) {\r\n  return async dispatch => {\r\n    try {\r\n      await stayService.remove(stayId)\r\n      dispatch({ type: 'REMOVE_STAY', stayId })\r\n    } catch (err) {\r\n      console.log('stayActions: err in removestay', err)\r\n    }\r\n  }\r\n}\r\n\r\n","export function setLocation(order) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'SET_LOCATION', order })\r\n        } catch (err) {\r\n            console.log('orderActions: err in setLocation', err)\r\n        }\r\n    }\r\n}\r\nexport function setDates(order) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'SET_DATES', order })\r\n        } catch (err) {\r\n            console.log('orderActions: err in setDates', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function setGuestAmount(order) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'SET_ORDER', order })\r\n        } catch (err) {\r\n            console.log('orderActions: err in setGuestAmount', err)\r\n        }\r\n    }\r\n}\r\nexport function resetOrder(emptyOrder) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'RESET_ORDER', emptyOrder })\r\n        } catch (err) {\r\n            console.log('orderActions: err in setGuestAmount', err)\r\n        }\r\n    }\r\n}\r\n\r\n","export function GuestModal({ isModalShown, updateGuestsAmount, guestAmount }) {\r\n\r\n    return (\r\n        isModalShown &&\r\n        <div className=\"guests-modal flex column\">\r\n            <div className=\"adults flex space-between\">\r\n                <div className=\"txt flex column\">\r\n                    <p>Adults</p>\r\n                    <p>Ages 13 or above</p>\r\n                </div>\r\n                <div className=\"btns flex space-between align-center\">\r\n                    <button onClick={(ev)=>{ updateGuestsAmount('adults', -1, ev)}}><i className=\"fas fa-minus\"></i></button>\r\n                    <span>{guestAmount.adults}</span>\r\n                    <button onClick={(ev)=>{ updateGuestsAmount('adults', 1, ev)}}><i className=\"fas fa-plus\"></i></button>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"children flex space-between\">\r\n                <div className=\"txt flex column\">\r\n                    <p>Children</p>\r\n                    <p>Ages 2–12</p>\r\n                </div>\r\n                <div className=\"btns flex space-between align-center\">\r\n                <button onClick={(ev)=>{ updateGuestsAmount('children', -1, ev)}}><i className=\"fas fa-minus\"></i></button>\r\n                    <span>{guestAmount.children}</span>\r\n                    <button onClick={(ev)=>{ updateGuestsAmount('children', 1, ev)}}><i className=\"fas fa-plus\"></i></button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"infants flex space-between\">\r\n                <div className=\"txt flex column\">\r\n                    <p>Infants</p>\r\n                    <p>Under 2</p>\r\n                </div>\r\n                <div className=\"btns flex space-between align-center\">\r\n                <button onClick={(ev)=>{ updateGuestsAmount('infants', -1, ev)}}><i className=\"fas fa-minus\"></i></button>\r\n                    <span>{guestAmount.infants}</span>\r\n                    <button onClick={(ev)=>{ updateGuestsAmount('infants', 1, ev)}}><i className=\"fas fa-plus\"></i></button>\r\n                </div>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","export const utilService = {\r\n    delay,\r\n    getRandomInt,\r\n    makeId,\r\n    formatTime\r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n}\r\n\r\nfunction makeId(length = 5) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction formatTime(date) {\r\n    var dd = String(date.getDate()).padStart(2, '0');\r\n    var mm = String(date.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    date = dd + '/' + mm + '/' + yyyy;\r\n    return date\r\n}","import { Component } from 'react'\r\n// import { render } from '@testing-library/react';\r\n// import { loadStays } from '../store/actions/stayActions.js'\r\n// import { connect } from 'react-redux'\r\nimport DatePicker from 'react-datepicker'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { withRouter } from 'react-router';\r\nimport { GuestModal } from './GuestModal';\r\nimport { utilService } from '../services/utilService'\r\nclass _StayFilter extends Component {\r\n\r\n    state = {\r\n        filterBy: {\r\n            location: '',\r\n        },\r\n        isModalShown: false,\r\n        startDate: '',\r\n        endDate: '',\r\n        guestAmount: { adults: 0, children: 0, infants: 0 },\r\n        x: 0,\r\n        y: 0\r\n    }\r\n\r\n    handleMouseMove = event => {\r\n        this.setState({\r\n            x: event.clientX,\r\n            y: event.clientY,\r\n        })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const { name, value } = target\r\n        const { filterBy } = this.state\r\n        this.setState({\r\n            filterBy: { ...filterBy, [name]: value },\r\n            [name]: value,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    toggleModal = () => {\r\n        const { isModalShown } = this.state\r\n        this.setState({ isModalShown: !isModalShown })\r\n    }\r\n\r\n\r\n\r\n    // updateGuestsAmount = (key, num, ev) => {\r\n    //     // need to handle case when num is < 0\r\n    //     ev.stopPropagation();\r\n    //     ev.preventDefault();\r\n    //     switch (key) {\r\n    //         case 'adults': this.setState({ key: num })\r\n    //             break\r\n    //         case 'children': this.setState({ key: num })\r\n    //             break\r\n    //         case 'infants': this.setState({ key: num })\r\n    //             break\r\n    //         default:\r\n    //     }\r\n    // }\r\n\r\n    updateGuestsAmount = (typeOfGuest, diff, ev) => {\r\n        // need to handle case when num is < 0\r\n        ev.stopPropagation();\r\n        ev.preventDefault();\r\n        const updatedOrder = { ...this.props.order }\r\n        updatedOrder.guestAmount[typeOfGuest] += diff\r\n        this.props.setGuestAmount(updatedOrder)\r\n    }\r\n\r\n    setDates = (dates) => {\r\n        const [updatedStartDate, updatedEndDate] = dates;\r\n        this.setState({ startDate: updatedStartDate, endDate: updatedEndDate })\r\n        const updatedOrder = { ...this.props.order }\r\n        updatedOrder.startDate = updatedStartDate\r\n        updatedOrder.endDate = updatedEndDate\r\n        this.props.setDates(updatedOrder)\r\n    }\r\n\r\n    setLocation = (loc) => {\r\n        const updatedOrder = { ...this.props.order }\r\n        updatedOrder.location = loc\r\n        this.props.setLocation(updatedOrder)\r\n    }\r\n\r\n    onSubmit = (ev) => {\r\n        ev.preventDefault()\r\n        const { location } = this.state.filterBy\r\n        this.setLocation(location)\r\n        this.props.history.push(`/stay?loc=${location}`)\r\n    }\r\n\r\n    render() {\r\n        const { guestAmount, location } = this.props.order\r\n        const { startDate, endDate, isModalShown, x, y, filterBy } = this.state\r\n        const style = { backgroundPosition: `calc((100 - ${x}) * 1%) calc((100 - ${y}) * 1%)` }\r\n        return (\r\n            <form className=\"stay-filter flex justify-center align-center\" >\r\n                <div className = \"flex column justify-center\">\r\n                        <i className=\"fas fa-map-marked-alt fs24\"></i>\r\n                    <div className=\"location\">\r\n                        <label className=\"label fs12\" htmlFor=\"location\">Location</label>\r\n                        <input type=\"text\" name=\"location\" id=\"location\" placeholder={location ? location : \"Where are you going?\"} value={filterBy.location} onChange={this.handleChange} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"tiny-border\"></div>\r\n                <i className=\"far fa-calendar-alt fs24\"></i>\r\n                <div className=\"date-picker flex column justify-center\">\r\n                    <span className=\"label fs12\">Dates</span>\r\n                    <DatePicker\r\n                        placeholderText={(this.props.order.startDate && this.props.order.endDate) ? utilService.formatTime(this.props.order.startDate) + '-' + utilService.formatTime(this.props.order.endDate) : \"Choose dates\"}\r\n                        selected={startDate}\r\n                        startDate={startDate}\r\n                        endDate={endDate}\r\n                        onChange={date => this.setDates(date)}\r\n                        monthsShown={2}\r\n                        dateFormat=\"dd/MM/yyyy\"\r\n                        minDate={new Date()}\r\n                        selectsRange\r\n                        shouldCloseOnSelect={true}\r\n                    />\r\n                </div>\r\n                <div className=\"tiny-border\"></div>\r\n                <i className=\"fas fa-user-plus fs24\"></i>\r\n                <div className=\"guests flex column justify-center\" onClick={(ev) => this.toggleModal()}>\r\n                    <label className=\"label fs12\" htmlFor=\"guestAmount\">Guests</label>\r\n                    {(guestAmount.adults + guestAmount.children + guestAmount.infants) <= 0 ?\r\n                        <span className=\"add-guests fs14\">Add guests</span> :\r\n                        <span className=\"add-guests fs14\">{guestAmount.adults + guestAmount.children + guestAmount.infants} guests</span>\r\n                    }\r\n                    <div className=\"guest-modal\">\r\n                        <GuestModal isModalShown={isModalShown} guestAmount={guestAmount} updateGuestsAmount={this.updateGuestsAmount} />\r\n                    </div>\r\n                </div>\r\n                <button onMouseMove={this.handleMouseMove}\r\n                    className=\"search-btn flex align-center justify-center\"\r\n                    onClick={this.onSubmit}\r\n                    style={style}>\r\n                    <i className=\"fas fa-search search-icon\"></i>\r\n                </button>\r\n            </form>\r\n        )\r\n    }\r\n\r\n}\r\nexport const StayFilter = withRouter(_StayFilter)\r\n\r\n","import { Link, NavLink } from 'react-router-dom'\r\n\r\nexport function UserModal({ loggedInUser, logout }) {\r\n    return (\r\n        <div className=\"user-modal flex column\">\r\n            <ul>\r\n                {!loggedInUser &&\r\n                    <NavLink to=\"/login\">\r\n                        <li className=\"login-link\">Login</li>\r\n                    </NavLink>\r\n                }\r\n                {loggedInUser &&\r\n                    <div className=\"options-loggedin\">\r\n                        <li>Messages</li>\r\n                        <Link to=\"/trips\">\r\n                            <li>Trips</li>\r\n                        </Link>\r\n                        <li>Wishlist</li>\r\n                        {loggedInUser.isHost==='true' &&\r\n                            <Link to=\"/dashboard\">\r\n                                <li>Dashboard</li>\r\n                            </Link>\r\n                        }\r\n                    </div>\r\n                }\r\n                <div className=\"divider\"></div>\r\n                <li>Host your home</li>\r\n                <li>Host an experience</li>\r\n                <li>Account</li>\r\n                <div className=\"divider\"></div>\r\n                <li>Help</li>\r\n                <Link to=\"/\">\r\n                    <li onClick={() => logout()}>Log out</li>\r\n                </Link>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import io from 'socket.io-client'\r\nimport {httpService} from './httpService'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\nvar socketIsReady = false;\r\n// socketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    async setup() {\r\n      if (socket) return\r\n      await httpService.get('setup-session')\r\n      socket = io(baseUrl, { reconnection: false})\r\n      socketIsReady = true;\r\n    },\r\n    async on(eventName, cb) {\r\n      if (!socket) await socketService.setup()\r\n      socket.on(eventName, cb)\r\n    },\r\n    async off(eventName, cb=null) {\r\n      if (!socket) await socketService.setup()\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    async emit(eventName, data) {\r\n      if (!socket) await socketService.setup()\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n      socketIsReady = false\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    listenersMap,\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      if (!cb) delete listenersMap[eventName]\r\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  return socketService\r\n}\r\n\r\n\r\n\r\n\r\n","import { storageService } from './asyncStorageService'\r\nimport { httpService } from './httpService'\r\n\r\nexport const userService = {\r\n    add,\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getLoggedinUser,\r\n    addOrder\r\n}\r\n\r\nwindow.userService = userService\r\n// Note: due to async, must run one by one...\r\n// userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 100, isAdmin: false})\r\n// userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 100, isAdmin: true})\r\n\r\nfunction getUsers() {\r\n    // return storageService.query('user')\r\n    return httpService.get(`user`)\r\n}\r\n\r\nfunction getById(userId) {\r\n    // return storageService.get('user', userId)\r\n    return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n    // return storageService.remove('user', userId)\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function add(order) {\r\n    return storageService.post('order', order)\r\n    // order = await httpService.post(`user/${user._id}`, user)\r\n    // Handle case in which admin updates other user's details\r\n    // if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n}\r\nasync function addOrder(order, hostId, userId) {\r\n    // return storageService.post('order', order)\r\n    const host = await httpService.get(`user/${hostId}`)\r\n    const user = await httpService.get(`user/${userId}`)\r\n    host.incomingOrders.push(order)\r\n    const myOrder = {...order}\r\n    delete myOrder.guest\r\n    user.orders.push(myOrder)\r\n    httpService.put(`user/${userId}`, user)\r\n    httpService.put(`user/${hostId}`, host)\r\n    // Handle case in which admin updates other user's details\r\n    // if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n}\r\nasync function update(user) {\r\n    // return storageService.put('user', user)\r\n    user = await httpService.put(`user/${user._id}`, user)\r\n    // Handle case in which admin updates other user's details\r\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n}\r\n\r\n\r\nasync function login(credentials) {\r\n    try {\r\n        const user = await httpService.post('auth/login', credentials)\r\n        if (user) return _saveLocalUser(user)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nasync function signup(userInfo) {\r\n    try {\r\n        const user = await httpService.post('auth/signup', userInfo)\r\n        return _saveLocalUser(user)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nasync function logout() {\r\n    try {\r\n        sessionStorage.clear()\r\n        return await httpService.post('auth/logout')\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem('loggedinUser') || 'null')\r\n}\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { UserModal } from './UserModal'\r\nimport { resetOrder } from '../store/actions/orderActions'\r\nimport { onLogout } from '../store/actions/userActions'\r\n\r\nclass _Header extends Component {\r\n    state = {\r\n        isUserModalShown: false\r\n    }\r\n\r\n    toggleUserModal() {\r\n        const { isUserModalShown } = this.state\r\n        this.setState({ isUserModalShown: !isUserModalShown })\r\n    }\r\n\r\n    goToHomepage = () => {\r\n        const emptyOrder = {\r\n            location: '',\r\n            startDate: '',\r\n            endDate: '',\r\n            guestAmount: { adults: 0, children: 0, infants: 0 }\r\n        }\r\n        this.props.resetOrder(emptyOrder)\r\n    }\r\n\r\n    logout = () => {\r\n        this.props.onLogout()\r\n        this.setState({ isUserModalShown: false })\r\n    }\r\n\r\n    render() {\r\n        const { loggedInUser, orders } = this.props;\r\n        const { isUserModalShown } = this.state\r\n        return <header className=\"flex space-between align-center\">\r\n                <div onClick={() => { this.goToHomepage() }} className=\"logo-container flex space-between\">\r\n                    <NavLink exact to=\"/\">\r\n                        <i className=\"fab fa-airbnb fs34\"></i>\r\n                        <span className=\"fs30\" role=\"img\" aria-label=\"logo\">jaunt</span>\r\n                    </NavLink>\r\n                </div>\r\n            <section className=\"header-nav flex fs16\">\r\n                <NavLink to=\"/stay\" >Explore</NavLink>\r\n                <div>Become a Host</div>\r\n                <section />\r\n            </section>\r\n                <section>\r\n                    <button className=\"login-btn flex space-between align-center\" onClick={() => { this.toggleUserModal() }}>\r\n                        <i className=\"fas fa-bars fs16\"></i>\r\n                        {loggedInUser &&\r\n                            <div className=\"flex\">\r\n                                <img className=\"user-img justify-center\" src={loggedInUser.img} alt=\"user profile\" />\r\n                            </div>}\r\n                        {!loggedInUser &&\r\n                            <i className=\"fas fa-user-circle fs30\"></i>\r\n                        }\r\n                    </button>\r\n                    <div className=\"user-container\">\r\n                        {/* {loggedInUser && <span>\r\n                            Hello {loggedInUser.fullName}\r\n                        </span>} */}\r\n                        {isUserModalShown && <UserModal orders={orders} loggedInUser={loggedInUser} logout={this.logout} />}\r\n                    </div>\r\n\r\n                </section>\r\n        </header>\r\n    }\r\n\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        orders: state.userModule.orders\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    resetOrder,\r\n    onLogout\r\n}\r\n\r\n\r\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(_Header)","import { socketService } from '../../services/socketService'\r\nimport { userService } from '../../services/userService'\r\n\r\n// THUNK action creators\r\n// Work asynchronously with the service and dispatch actions to the reducers \r\n\r\nexport function loadUsers() {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: 'LOADING_START' })\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n    } finally {\r\n      dispatch({ type: 'LOADING_DONE' })\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'REMOVE_USER', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\nexport function addOrder(order, hostId, userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.addOrder(order, hostId, userId)\r\n      socketService.emit('add order', order)\r\n      dispatch({ type: 'ADD_ORDER', order })\r\n    } catch (err) {\r\n      console.log('UserActions: err in addOrder', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function loadUser(userId) {\r\n  console.log('happened');\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.getById(userId)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUser', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function onLogin(credentials) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.login(credentials)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in login', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function onSignup(userInfo) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.signup(userInfo)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in signup', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function onLogout() {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.logout()\r\n      dispatch({ type: 'SET_USER', user: null })\r\n    } catch (err) {\r\n      console.log('UserActions: err in logout', err)\r\n    }\r\n  }\r\n}","import { NavLink } from 'react-router-dom'\r\n\r\nimport { StayFilter } from './StayFilter'\r\nimport { Header } from './Header'\r\n\r\nexport function Hero({order, setDates, setGuestAmount, setLocation}) {\r\n    return (\r\n        <section className=\"hero flex column full main-header home-container space-between\">\r\n            <section>\r\n                <section className=\"header-container\">\r\n                    <Header />\r\n                </section>\r\n                <section className=\"search-container flex justify-center align-center\">\r\n                    <StayFilter order={order} setDates={setDates} setGuestAmount={setGuestAmount} setLocation={setLocation}/>\r\n                \r\n                </section>\r\n            <div className=\"app-desc flex  \">\r\n                Start a <br /> \r\n                New Journey\r\n                {/* Jaunt <span>2021</span>\r\n                <br />Enter a new journy\r\n                <br /> <NavLink to=\"/stay\">Get exploring</NavLink> */}\r\n            </div>\r\n            </section>\r\n        </section>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/1.19fab797.jpg\";","export default __webpack_public_path__ + \"static/media/2.3602dd1f.jpg\";","export default __webpack_public_path__ + \"static/media/3.7ff6119d.jpg\";","export default __webpack_public_path__ + \"static/media/4.00cba16b.jpg\";","export default __webpack_public_path__ + \"static/media/5.2b824622.jpg\";","export default __webpack_public_path__ + \"static/media/6.8e32d20b.jpg\";","export default __webpack_public_path__ + \"static/media/7.966ff34d.jpg\";","export default __webpack_public_path__ + \"static/media/8.30eb92b7.jpg\";","import telAviv from '../assets/img/1.jpg'\r\nimport Jerusalem from '../assets/img/2.jpg'\r\nimport Eilat from '../assets/img/3.jpg'\r\nimport Haifa from '../assets/img/4.jpg'\r\nimport Netanya from '../assets/img/5.jpg'\r\nimport Herzliya from '../assets/img/6.jpg'\r\nimport RamatGan from '../assets/img/7.jpg'\r\nimport Tveria from '../assets/img/8.jpg'\r\nimport { Link } from 'react-router-dom'\r\nexport function Nearby() {\r\n    const places =\r\n        [\r\n            { name: 'Tel Aviv', img: telAviv, time: 15 },\r\n            { name: 'Jerusalem', img: Jerusalem, time: 60 },\r\n            { name: 'Eilat', img: Eilat, time: 300 },\r\n            { name: 'Haifa', img: Haifa, time: 40 },\r\n            { name: 'Netanya', img: Netanya, time: 30 },\r\n            { name: 'Herzliya', img: Herzliya, time: 50 },\r\n            { name: 'Ramat Gan', img: RamatGan, time: 40 },\r\n            { name: 'Tveria', img: Tveria, time: 20 },\r\n        ]\r\n\r\n    return (\r\n        <section className=\"explore grid\">\r\n            {places.map((place, idx) =>\r\n                <Link to={`stay/?loc=${place.name}`} key={idx}>\r\n                    <div className=\"explore-preview flex\">\r\n                        <div className=\"img-preview\">\r\n                            <img src={place.img} alt={place.name} />\r\n                        </div>\r\n                        <div className=\"destination flex column justify-center\">\r\n                            <span className=\"city \">{place.name}</span>\r\n                            <span>{`${place.time} minute drive`}</span>\r\n                        </div>\r\n                    </div>\r\n                </Link>)}\r\n        </section>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/paris2.11fa7931.jpg\";","export default __webpack_public_path__ + \"static/media/london2.a851425f.jpg\";","export default __webpack_public_path__ + \"static/media/newyork2.50bb4288.jpg\";","export default __webpack_public_path__ + \"static/media/rome2.8611bf95.jpg\";","import paris2 from '../assets/img/paris2.jpg'\r\nimport london2 from '../assets/img/london2.jpg'\r\n// import newYork from '../assets/img/new-york.jpg'\r\nimport newYork2 from '../assets/img/newyork2.jpg'\r\n// import istanbul from '../assets/img/istanbul.jpg'\r\nimport rome2 from '../assets/img/rome2.jpg'\r\nimport { Link } from 'react-router-dom'\r\nexport function Anywhere() {\r\n    const places = \r\n    [\r\n        { name: 'Paris', img: paris2},\r\n        { name: 'London', img: london2},\r\n        { name: 'New York', img: newYork2},\r\n        // { name: 'Istanbul', img: istanbul},\r\n        { name: 'Rome', img: rome2},\r\n    ]\r\n\r\n    return (\r\n        <section className=\"live-anywhere grid\">\r\n            {places.map((place,idx) =>\r\n                <Link to={`stay/?loc=${place.name}` } key={idx}>\r\n                    <div className=\"anywhere-preview flex column\">\r\n                        <img src={place.img} alt={place.name} />\r\n                        <div className=\"destination-name\">\r\n                            <span className=\"city\">{place.name}</span>\r\n                        </div>\r\n                    </div>\r\n                </Link>)}\r\n        </section>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/get-inspired.7df5a350.jpg\";","import inspierdImg from '../assets/img/get-inspired.jpg'\r\n\r\nexport function GetInspired() {\r\n\r\n    return (\r\n        <div className=\"inspiration\">\r\n            <img src={inspierdImg} alt=\"\" />\r\n            <div className=\"details flex column justify-center\">\r\n                <h1>The Greatest Houses</h1>\r\n                <p>Wishlists curated by Jaunt</p>\r\n                <button className=\"inspire-btn\">Get Inspired</button>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n\r\n}","export default __webpack_public_path__ + \"static/media/become-a-host.bb8d33e9.jpg\";","import host from '../assets/img/become-a-host.jpg'\r\n\r\nexport function BecomeHost() {\r\n    return (\r\n        <div className=\"host\">\r\n            <img src={host} alt=\"\" />\r\n            <div className=\"details flex column justify-center\">\r\n                <h1>Become a Host</h1>\r\n                <p>Earn extra income and unlock new opportunities by sharing your space.</p>\r\n                <button className=\"more-btn\">Learn more</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadStays } from '../store/actions/stayActions.js'\r\nimport { setDates, setGuestAmount, setLocation } from '../store/actions/orderActions.js'\r\nimport { Link } from 'react-router-dom'\r\nimport { Hero } from '../cmps/Hero.jsx'\r\nimport { Nearby } from '../cmps/Nearby'\r\nimport { Anywhere } from '../cmps/Anywhere'\r\nimport { GetInspired } from '../cmps/GetInspired'\r\nimport { BecomeHost } from '../cmps/BecomeHost'\r\n\r\nclass _Home extends Component {\r\n \r\n  render() {\r\n    const { order, setDates, setGuestAmount, setLocation } = this.props\r\n    return (\r\n      <div className=\"home home-container\">\r\n        <Hero order={order} setDates={setDates} setGuestAmount={setGuestAmount} setLocation={setLocation} />\r\n        <section className=\"explore-nearby \">\r\n          <h1>Explore nearby</h1>\r\n          <Nearby />\r\n          <section className=\"live-anywhere-constainer flex column\" >\r\n            <h1>Live anywhere</h1>\r\n            <Anywhere />\r\n          </section>\r\n          <Link to={`/stay`}>\r\n            <section className=\"getInspired-container\">\r\n              <GetInspired />\r\n            </section>\r\n          </Link>\r\n          <Link to={`/host`}>\r\n            <section className=\"become-host-container\">\r\n              <BecomeHost />\r\n            </section>\r\n          </Link>\r\n        </section>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    stays: state.stayModule.stays,\r\n    order: state.orderModule.currOrder\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadStays,\r\n  setDates,\r\n  setGuestAmount,\r\n  setLocation\r\n}\r\n\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)\r\n","\r\nimport React, { Component } from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik'\r\nimport { connect } from 'react-redux'\r\nimport { onLogin, onSignup } from '../store/actions/userActions'\r\nimport { TextField} from '@material-ui/core'\r\nimport { Header } from '../cmps/Header';\r\n\r\nclass _LoginSignup extends Component {\r\n\r\n    state = {\r\n        userInfo: {\r\n            fullname: '',\r\n            username: '',\r\n            password: ''\r\n        },\r\n        credentials: {\r\n            username: '',\r\n            password: ''\r\n        },\r\n        pageMode: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { loggedinUser } = this.props\r\n        if (loggedinUser) this.props.history.push('/')\r\n        const pageMode = this.props.location.pathname === '/login' ? 'login' : 'signup'\r\n        this.setState({ pageMode })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const { loggedInUser } = this.props\r\n        if (loggedInUser) this.props.history.goBack()\r\n    }\r\n\r\n    validate = (values) => {\r\n        const errors = {}\r\n        if (!values.username) {\r\n            errors.username = 'Required'\r\n        } else if (values.username.length < 6) {\r\n            errors.username = 'Please use at least 6 characters'\r\n        }\r\n        if (values.password.length < 6) {\r\n            errors.password = 'Password too short'\r\n        }\r\n        if (!values.fullname) {\r\n            errors.fullname = 'Required'\r\n        } else if (values.fullname.length < 6) {\r\n            errors.fullname = 'Please use at least 6 characters'\r\n        }\r\n        return errors\r\n    }\r\n\r\n    onSubmit = (values) => {\r\n        const { pageMode } = this.state\r\n        const { onLogin, onSignup } = this.props\r\n        pageMode === 'login' ? onLogin(values) : onSignup(values)\r\n    }\r\n\r\n    styledField = (props) => {\r\n        return  <TextField {...props} variant=\"outlined\" color={'primary'} />\r\n    }\r\n\r\n    render() {\r\n        const { pageMode, credentials, userInfo } = this.state\r\n        const { loginErr } = this.props\r\n        if (!pageMode) return ''\r\n        return (<section className=\"login-page\">\r\n        <Header/>\r\n            {pageMode === 'login' && <section className=\"login-signup flex column align-center\">\r\n                <h2>Login</h2>\r\n                <Formik initialValues={credentials} onSubmit={this.onSubmit} >\r\n                    <Form className=\"flex column\">\r\n                        <Field type=\"username\" label=\"Username\" name=\"username\" as={this.styledField} />\r\n                        <ErrorMessage name=\"username\" component=\"div\" />\r\n                        <Field type=\"password\" label=\"Password\" name=\"password\" as={this.styledField} />\r\n                        <ErrorMessage name=\"password\" component=\"div\" as={this.styledField} />\r\n                        {loginErr && <p>{loginErr}</p>}\r\n                        <button type=\"submit\" className=\"primary-btn\">Login</button>\r\n                    </Form>\r\n                </Formik>\r\n            </section>}\r\n            {pageMode === 'signup' &&\r\n                <section className=\"login-signup flex column align-center full\">\r\n                    <h1>Signup</h1>\r\n                    <Formik initialValues={userInfo} validateOnChange={false} validateOnBlur={false} validate={this.validate} onSubmit={this.onSubmit}>\r\n                        <Form className=\"flex column\">\r\n                            <Field type=\"fullname\" label=\"Fullname\" name=\"fullname\" as={this.styledField} />\r\n                            <ErrorMessage name=\"fullname\" component=\"p\" />\r\n                            <Field type=\"username\" label=\"Username\" name=\"username\" as={this.styledField} />\r\n                            <ErrorMessage name=\"username\" component=\"p\" />\r\n                            <Field type=\"password\" label=\"Password\" name=\"password\" as={this.styledField} />\r\n                            <ErrorMessage name=\"password\" component=\"p\" />\r\n                            <button type=\"submit\" className=\"primary-btn\">Signup</button>\r\n                        </Form>\r\n                    </Formik>\r\n                </section>}\r\n        </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        loginErr: state.userModule.loginErr\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onSignup,\r\n}\r\n\r\nexport const LoginSignup = connect(mapStateToProps, mapDispatchToProps)(_LoginSignup)","import { StayFilter } from './StayFilter'\r\nimport { Header } from './Header'\r\n\r\nexport function NavBar({order, setDates, setGuestAmount, setLocation, startDate, endDate}) {\r\n    return (\r\n        <section className=\"full\">\r\n            <section className=\"navbar-container header-container\">\r\n                <Header />\r\n                <section className=\"search-container hero flex justify-center align-center\">\r\n                    <StayFilter order={order} setDates={setDates} setGuestAmount={setGuestAmount} setLocation={setLocation} startDate={startDate} endDate={endDate} />\r\n                </section>\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { Map, Marker, GoogleApiWrapper } from 'google-maps-react';\r\nimport { Component } from 'react';\r\n// import '../assets/css/pages/about-page.css'\r\nclass _GoogleMap extends Component {\r\n\r\n    state = {\r\n        pos: {\r\n            adddress: null,\r\n            lat: null,\r\n            lng: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const pos = this.props.stay.loc\r\n        this.setState({ pos })\r\n    }\r\n\r\n    render() {\r\n        const { pos } = this.state\r\n        return (\r\n            <div className=\"map-container\">\r\n                <h1>Location</h1>\r\n                <Map\r\n                    google={this.props.google}\r\n                    zoom={15}\r\n                    center={pos}\r\n\r\n                   containerStyle={{\r\n                    // position:\"fixed\",\r\n                    width: '1240px',\r\n                    height: '500px',\r\n                    marginTop:'20px',\r\n                    }}>\r\n\r\n                    <Marker\r\n                        position={pos}\r\n                        name={'stay location'} />\r\n                </Map>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport const StayMap = GoogleApiWrapper({\r\n    apiKey: (`AIzaSyBnQ0ebntiaqnKC_liI8ybwWzqTD68V02w`)\r\n})(_GoogleMap)","import DatePicker from 'react-datepicker'\r\n\r\nexport function SelectDates({setDates, startDate, endDate}) {\r\n  return (\r\n    <section className=\"select-dates-container\">\r\n      <DatePicker\r\n        minDate={new Date()}\r\n        onChange={dates => setDates(dates)}\r\n        monthsShown={2}\r\n        selected={startDate}\r\n        startDate={startDate}\r\n        endDate={endDate}\r\n        selectsRange\r\n        inline\r\n        style={{ color: \"red\" }}\r\n      />\r\n    </section>\r\n  )\r\n}\r\n\r\n","\r\nexport function Amenities({amenities, getAmenitiesIcons}) {\r\n  return (\r\n          <div className=\"amenities flex column\">{amenities.map((txt, idx) =>\r\n          <p className=\"flex align-center\" key={idx}>\r\n            <i className={getAmenitiesIcons(txt)}></i> {txt}</p>)}\r\n          </div>\r\n    \r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport Rate from 'rc-rate';\r\nimport 'rc-rate/assets/index.css';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport function Reviews({ reviews }) {\r\n\r\n    return (\r\n        <section id=\"reviews\" className=\"reviews-container details-container flex column\">\r\n            <h2 className=\"value-rate flex space-between \">\r\n                <span className=\"stay-rate flex align-center\">\r\n                    <i className='fa fa-star fs18'></i>\r\n                    {reviews.length === 1 && <span className=\"reviews-amount fs22\">{reviews.length} review</span>}\r\n                    {reviews.length > 1 && <span className=\"reviews-amount fs22\">{reviews.length} reviews</span>}\r\n                </span>\r\n            </h2>\r\n            <div className=\"user-reviews flex space-between\">\r\n\r\n                {reviews.map(review =>\r\n                    <article className=\"flex column\" key={review.id}>\r\n                        <div className=\"review-by flex align-center\">\r\n                            <img className=\"host-img\" src={review.by.imgUrl} alt=\"host\"/>\r\n                            <h4 className=\"review-name\">{review.by.fullname}</h4>\r\n                            {/* <p className=\"review-date\"></p> */}\r\n                        </div>\r\n                        <div className=\"review-parameters flex column\">\r\n                            <p className=\"review-txt\">{review.txt}</p>\r\n                        </div>\r\n                    </article>\r\n                )}\r\n            </div>\r\n            <div className=\"add-review-container\">\r\n                <h2>Add a review</h2>\r\n                <div className=\"details-container grid\">\r\n                    <div className=\"stars-container flex\">\r\n                        <article className=\"review-ctg flex align-center\">\r\n                            <h4>Cleanliness</h4>\r\n                            <Rate />\r\n                        </article>\r\n                        <article className=\"review-ctg flex align-center\">\r\n                            <h4>Accuracy</h4>\r\n                            <Rate />\r\n                        </article>\r\n                        <article className=\"review-ctg flex align-center\">\r\n                            <h4>Communication</h4>\r\n                            <Rate />\r\n                        </article>\r\n                        <article className=\"review-ctg flex align-center\">\r\n                            <h4>Location</h4>\r\n                            <Rate />\r\n                        </article>\r\n                        <article className=\"review-ctg flex align-center\">\r\n                            <h4>Check-in</h4>\r\n                            <Rate />\r\n                        </article>\r\n                        <article className=\"review-ctg flex align-center\">\r\n                            <h4>Value</h4>\r\n                            <Rate />\r\n                        </article>\r\n                    </div>\r\n                    <textarea name=\"add-review\" cols=\"30\" rows=\"10\"></textarea>\r\n                </div>\r\n                    <Button variant=\"contained\" color=\"secondary\">Add review</Button>\r\n            </div>\r\n        </section>\r\n\r\n    )\r\n}\r\n","import { Link } from 'react-router-dom'\r\n\r\nexport function StayMainInfo({stay}) {\r\n    return (\r\n        <section>\r\n            <div className=\"details-title\">\r\n                <div className=\"title-primary fs24\"><h1>{stay.name}</h1></div>\r\n                <div className=\"title-secondery flex space-between fs14\">\r\n                    <div className=\"left flex space-between\">\r\n                        <div className=\"stay-rate flex align-center space-between\">\r\n                            <i className='fa fa-star'></i>\r\n                            <span className=\"reviews-rate\">\r\n                                {stay.reviews[0].rate}\r\n                            </span>\r\n                            {stay.reviews.length === 1 && <span className=\"reviews-amount\"> ({stay.reviews.length} review)</span>}\r\n                            {stay.reviews.length > 1 && <span className=\"reviews-amount\">({stay.reviews.length} reviews)</span>}\r\n                        </div>\r\n                        <div><Link to={`/stay/?loc=${stay.loc.address}`}>{stay.loc.address}</Link></div>\r\n                    </div>\r\n                    <div className=\"right flex space-between\">\r\n                        <div><i className='fa fa-share-square-o'></i> share</div>\r\n                        <div><i className='fa fa-heart-o'></i> save</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"img-grid-container\">\r\n                {stay.imgUrls.map((img, idx) => <img src={img} alt=\"\" key={idx} />)}\r\n            </div>\r\n            \r\n        </section>\r\n    )\r\n}","import DatePicker from 'react-datepicker'\r\nimport { GuestModal } from '../cmps/GuestModal';\r\nimport { utilService } from '../services/utilService';\r\n\r\n\r\nexport function CheckAvailability({ state, props, getGuestsNum, toggleModal, updateGuestsAmount, setDates, changeBtn, getTotalDays }) {\r\n\r\n    const { startDate, endDate, isModalShown, isChargeShown } = state\r\n    const { stay, order } = props\r\n    const { guestAmount } = order\r\n\r\n    return (\r\n        <div className=\"availability flex column\">\r\n            <form className=\"check-availability flex column align-center\">\r\n                <div className=\"value-rate flex space-between\">\r\n                    <span><b className=\"fs22\">${stay.price}</b> / night</span>\r\n                    <span className=\"stay-rate flex align-center\">\r\n                        <i className='fa fa-star'></i>\r\n                        <span className=\"reviews-rate\">{stay.reviews[0].rate}</span>\r\n                        {stay.reviews.length === 1 && <span className=\"reviews-amount\">({stay.reviews.length} review)</span>}\r\n                        {stay.reviews.length > 1 && <span className=\"reviews-amount\">({stay.reviews.length} reviews)</span>}\r\n                    </span>\r\n                </div>\r\n                <div className=\"order-details details-container flex column align-center\">\r\n                    <DatePicker\r\n                        className=\"date-picker\"\r\n                        placeholderText={(props.order.startDate && props.order.endDate) ? utilService.formatTime(props.order.startDate) + '-' + utilService.formatTime(props.order.endDate) : \"Choose dates\"}\r\n                        onChange={date => setDates(date)}\r\n                        selected={startDate}\r\n                        startDate={startDate}\r\n                        endDate={endDate}\r\n                        monthsShown={2}\r\n                        dateFormat=\"dd/MM/yyyy\"\r\n                        minDate={new Date()}\r\n                        selectsRange\r\n                        shouldCloseOnSelect={true}\r\n                    />\r\n                    <div className=\"guests flex column\" onClick={(ev) => toggleModal()}>\r\n                        <div className=\"guestAmount\">\r\n                            <p>{getGuestsNum() >= 1 ? `${getGuestsNum()} Guests` : 'Add guests'} </p>\r\n                        </div>\r\n                        <div className=\"guest-modal\">\r\n                            <GuestModal isModalShown={isModalShown} guestAmount={guestAmount} updateGuestsAmount={updateGuestsAmount} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {changeBtn()}\r\n                {isChargeShown &&\r\n                    <div className=\"trip-reserve flex column\">\r\n                        <p className=\"charge-msg\">You won't be charged yet</p>\r\n                        <p>Non-refundable • $ {stay.price}</p>\r\n                        <p>{getGuestsNum() >= 1 ? `${getGuestsNum()} Guests` : 'No guests added'} </p>\r\n                        <p>$ {stay.price} x {getTotalDays(props.order.endDate, props.order.startDate)} nights </p>\r\n                        <div className=\"divider\"></div>\r\n                        <section className=\"total-price flex space-between\">\r\n                            <p>Total</p>\r\n                            <p>\r\n                                ${stay.price * getTotalDays(props.order.endDate, props.order.startDate)}\r\n                            </p>\r\n                        </section>\r\n                    </div>}\r\n            </form>\r\n        </div>\r\n    )\r\n}","export function StayDesc({ stay }) {\r\n    return (\r\n        <div>\r\n            <div className=\"desc-title flex space-between\">\r\n                <div className=\"titles\">\r\n                    <h2>{`Entire apartment hosted by ${stay.host.fullname}`}</h2>\r\n                    <p>{`${stay.capacity} guests `}</p>\r\n                </div>\r\n                <img className=\"host-img\" src={stay.host.imgUrl} alt=\"profile\" />\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <section className=\"info-container details-container\">\r\n                <div className=\"info flex\">\r\n                    <i className=\"fas fa-home\"></i>\r\n                    <span>\r\n                        <h4>Entire home</h4>\r\n                        <p>You’ll have the apartment to yourself.</p>\r\n                    </span>\r\n                </div>\r\n                <div className=\"info flex\">\r\n                    <i className=\"fas fa-hand-sparkles\"></i>\r\n                    <span>\r\n                        <h4>Enhanced Clean</h4>\r\n                        <p>This host committed to Airbnb's 5-step enhanced cleaning process.</p>\r\n                    </span>\r\n                </div>\r\n                {!stay.amenities.includes('Smoking allowed' && 'Pets allowed') &&\r\n                    <div className=\"info flex\">\r\n                        <i className=\"fas fa-scroll\"></i>\r\n                        <span>\r\n                            <h4>House rules</h4>\r\n                            <p>The host doesn’t allow pets, parties, or smoking.</p>\r\n                        </span>\r\n                    </div>}\r\n            </section>\r\n            <div className=\"divider\"></div>\r\n            <div className=\"details-container\">\r\n                <p>{stay.summary}</p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nconst style = {\r\n  fontSize: 40,\r\n  backgroundColor: \"white\",\r\n  position: \"fixed\",\r\n  right: \"50px\",\r\n  bottom: \"50px\",\r\n  zIndex: \"100\"\r\n}\r\n\r\n// setTimeout(() => {\r\n//   style.display= \"none\"\r\n// }, 2000);\r\n\r\nexport default function ColorAlerts({ text }) {\r\n  return (\r\n    <div className=\"alert\" style={style}>\r\n      <Alert severity=\"success\" variant=\"outlined\" >\r\n        {text}\r\n      </Alert>\r\n    </div>\r\n  );\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { NavBar } from '../cmps/NavBar'\r\nimport { StayMap } from '../cmps/StayMap'\r\nimport { SelectDates } from '../cmps/SelectDates'\r\nimport { Amenities } from '../cmps/Amenities'\r\nimport { Reviews } from '../cmps/Reviews'\r\nimport { StayMainInfo } from '../cmps/StayMainInfo.jsx'\r\nimport { setStay } from '../store/actions/stayActions'\r\nimport { setLocation, setDates, setGuestAmount } from '../store/actions/orderActions'\r\nimport { addOrder } from '../store/actions/userActions'\r\nimport { CheckAvailability } from '../cmps/CheckAvailability'\r\nimport { StayDesc } from '../cmps/StayDesc'\r\nimport Alert from '../cmps/Alert'\r\nimport { socketService } from '../services/socketService'\r\n\r\nclass _StayDetails extends Component {\r\n  state = {\r\n    isSecondClick: false,\r\n    startDate: '',\r\n    endDate: '',\r\n    isModalShown: false,\r\n    isChargeShown: false,\r\n    x: 0,\r\n    y: 0\r\n  }\r\n\r\n  handleMouseMove = event => {\r\n    this.setState({\r\n      x: event.clientX,\r\n      y: event.clientY,\r\n    })\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.props.setStay(this.props.match.params.id)\r\n    socketService.emit('topic', this.props.stay.host._id)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socketService.off('topic')\r\n  }\r\n\r\n\r\n  handleChange = ({ target }) => {\r\n    const { name, value } = target\r\n    const { filterBy } = this.state\r\n    this.setState({\r\n      filterBy: { ...filterBy, [name]: value },\r\n      [name]: value,\r\n      [name]: value\r\n    })\r\n  }\r\n\r\n  getAmenitiesIcons = (txt) => {\r\n    switch (txt) {\r\n      case 'TV': return 'fa fa-tv'\r\n      case 'Wifi': return 'fa fa-wifi'\r\n      case 'Kitchen': return 'fa fa-cutlery'\r\n      case 'Smoking allowed': return 'fas fa-smoking'\r\n      case 'Pets allowed': return 'fas fa-paw'\r\n      case 'Parking': return 'fas fa-parking'\r\n      case 'Room service': return 'fas fa-concierge-bell'\r\n      case 'Transportation': return 'fas fa-bus'\r\n      case 'Refrigerator': return 'fas fa-refrigerator'\r\n      case 'Coffee': return 'fas fa-coffee'\r\n      case 'Air conditioning': return 'fas fa-snowflake'\r\n      case 'Bathtub': return 'fas fa-bath'\r\n      case 'Backyard': return 'fas fa-leaf'\r\n      default:\r\n    }\r\n  }\r\n\r\n  toggleModal = () => {\r\n    const { isModalShown } = this.state\r\n    this.setState({ isModalShown: !isModalShown })\r\n  }\r\n\r\n  changeBtn = () => {\r\n    const { isChargeShown, isSecondClick, x, y } = this.state\r\n    const style = { backgroundPosition: `calc((100 - ${x}) * 1%) calc((100 - ${y}) * 1%)` }\r\n    if (!isChargeShown && !isSecondClick) {\r\n      return <button className=\"check-btn fs16\"\r\n        onMouseMove={this.handleMouseMove}\r\n        style={style}\r\n        onClick={(ev) => this.toggleCharge(ev)}>\r\n        Check Availability\r\n        </button>\r\n    } if (isChargeShown && !isSecondClick) {\r\n      return (\r\n        <button className=\"check-btn fs16\"\r\n          onMouseMove={this.handleMouseMove}\r\n          style={style}\r\n          onClick={this.toggleCharge}>\r\n          Reserve\r\n        </button>\r\n      )\r\n    } else if (!isChargeShown && isSecondClick) {\r\n      return (\r\n        <span className=\"reserved-btn fs16\">\r\n          Reserved\r\n        </span>\r\n      )\r\n    }\r\n\r\n  }\r\n\r\n  toggleCharge = (ev) => {\r\n    ev.preventDefault()\r\n    const { isChargeShown, isSecondClick } = this.state\r\n    const { fullName, img, username, _id } = this.props.loggedInUser\r\n    const { address, country } = this.props.stay.loc\r\n    const { host, imgUrls, name } = this.props.stay\r\n    const updatedOrder = { ...this.props.order }\r\n    if (!isChargeShown && !isSecondClick) {\r\n      this.setState({ isChargeShown: true })\r\n      return\r\n    }\r\n    updatedOrder.location = address\r\n    updatedOrder.stay = { name, imgUrls, country }\r\n    updatedOrder.guest = { fullName, img, username, _id }\r\n    this.props.setLocation(updatedOrder)\r\n    this.props.addOrder(updatedOrder, host._id, _id)\r\n    this.setState({ isSecondClick: true, isChargeShown: false })\r\n\r\n  }\r\n\r\n  getGuestsNum = () => {\r\n    const { adults, children, infants } = this.props.order.guestAmount\r\n    return adults + children + infants\r\n  }\r\n\r\n  setDates = (dates) => {\r\n    const [updatedStartDate, updatedEndDate] = dates;\r\n    this.setState({ startDate: updatedStartDate, endDate: updatedEndDate })\r\n    const updatedOrder = { ...this.props.order }\r\n    updatedOrder.startDate = updatedStartDate\r\n    updatedOrder.endDate = updatedEndDate\r\n    this.props.setDates(updatedOrder)\r\n  }\r\n\r\n  updateGuestsAmount = (typeOfGuest, diff, ev) => {\r\n    // need to handle case when num is < 0\r\n    ev.stopPropagation();\r\n    ev.preventDefault();\r\n    const updatedOrder = { ...this.props.order }\r\n    updatedOrder.guestAmount[typeOfGuest] += diff\r\n    this.props.setGuestAmount(updatedOrder)\r\n  }\r\n\r\n  getTotalDays = (end, start) => {\r\n    if (!end || !start) return\r\n    const diff = end.getTime() - start.getTime()\r\n    const totalDays = diff / (1000 * 60 * 60 * 24)\r\n    return totalDays\r\n  }\r\n\r\n  render() {\r\n    const { stay, order, setLocation } = this.props\r\n    const { startDate, endDate, isSecondClick } = this.state\r\n    if (!stay) return <div>loading</div>\r\n    return (\r\n      <section className=\"stay-details-container main-container\">\r\n        <NavBar order={order} setLocation={setLocation} setGuestAmount={this.props.setGuestAmount} setDates={this.props.setDates} startDate={startDate} endDate={endDate} />\r\n        <section className=\"desc-page\">\r\n          <StayMainInfo stay={stay} />\r\n          <section className=\"description flex\">\r\n            <div className=\"stay-description\">\r\n              <StayDesc stay={stay} />\r\n              <div className=\"divider\"></div>\r\n              <section className=\"details-container\">\r\n                <h2>Amenities</h2>\r\n                <Amenities amenities={stay.amenities} getAmenitiesIcons={this.getAmenitiesIcons} />\r\n              </section>\r\n              <div className=\"divider\"></div>\r\n              <section className=\"details-container\">\r\n                <h2>Select dates</h2>\r\n                <SelectDates startDate={startDate} endDate={endDate} setDates={this.setDates} />\r\n              </section>\r\n            </div>\r\n            {isSecondClick &&\r\n              <Alert text=\"Order has booked successfully, check it on trips page!\" />}\r\n            <CheckAvailability state={this.state} props={this.props} getGuestsNum={this.getGuestsNum} toggleModal={this.toggleModal} toggleCharge={this.toggleCharge} updateGuestsAmount={this.updateGuestsAmount} handleMouseMove={this.handleMouseMove} setDates={this.setDates} changeBtn={this.changeBtn} getTotalDays={this.getTotalDays} />\r\n          </section>\r\n          <div className=\"divider\"></div>\r\n          <Reviews reviews={stay.reviews} />\r\n          <div className=\"divider\"></div>\r\n          <StayMap stay={stay} />\r\n        </section>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    stay: state.stayModule.currStay,\r\n    order: state.orderModule.currOrder,\r\n    orders: state.userModule.orders,\r\n    loggedInUser: state.userModule.loggedInUser\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  setStay,\r\n  setLocation,\r\n  setDates,\r\n  setGuestAmount,\r\n  addOrder\r\n}\r\n\r\nexport const StayDetails = connect(mapStateToProps, mapDispatchToProps)(_StayDetails)","import Carousel from 'react-material-ui-carousel'\r\n// import { Paper, Button } from '@material-ui/core'\r\n// import { Height } from '@material-ui/icons'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport function ImgCarousel({ stay }) {\r\n\r\n    return (\r\n        <Carousel\r\n            fullHeightHover={true}\r\n            animation={'slide'}\r\n            swipe={true}\r\n            timeout={300}\r\n            autoPlay={false}\r\n            navButtonsProps={{\r\n                style: {\r\n                    // position:'absolute',\r\n                    backgroundColor: 'white',\r\n                    color: 'black',\r\n                    width:'15px',\r\n                    height:'15px'\r\n                    //  bottom:'20px',\r\n                }\r\n            }}\r\n\r\n            indicatorIconButtonProps={{\r\n                style: {\r\n                    color: \"#ffffffba\",\r\n                }\r\n            }}\r\n            indicatorContainerProps={{\r\n                style: {\r\n                    position: 'absolute',\r\n                    bottom: '20px',\r\n                }\r\n            }\r\n            }\r\n            activeIndicatorIconButtonProps={{\r\n                style:{color: \"white\"}\r\n            }} >\r\n\r\n            {\r\n                stay.imgUrls.map((img, idx) =>\r\n                    <Link to={`/stay/${stay._id}`} className=\"primary-btn\" key={idx} >\r\n                        <img src={img} alt=\"rooms\"/>\r\n                    </Link>)\r\n            }\r\n\r\n        </Carousel>\r\n    )\r\n}","import React, { Component } from 'react'\r\n\r\nexport class TxtLength extends Component {\r\n\r\n    state = {\r\n        isLongShown: false,\r\n    }\r\n    onToggleShow = () => {\r\n        this.setState(({ isLongShown }) => ({ isLongShown: !isLongShown }))\r\n    }\r\n    render() {\r\n        const { isLongShown } = this.state\r\n        const isOver20 = (this.props.text.length > 20) ? true : false;\r\n        let shortTxt = this.props.text.slice(0, 20)\r\n        if (isOver20) shortTxt += '...'\r\n        return <div>\r\n            <p>\r\n                <span>{isLongShown ? this.props.text : shortTxt}</span>\r\n                {isOver20 && <span className=\"txt-show-btn\" onClick={this.onToggleShow}>{isLongShown ? ' Show Less' : ' Show More'}</span>}\r\n            </p>\r\n        </div>\r\n    }\r\n\r\n\r\n}","import { ImgCarousel } from '../cmps/ImgCarousel'\r\nimport { Link } from 'react-router-dom'\r\nimport { TxtLength } from './TxtLength'\r\n\r\nexport function StayPreview({ stay }) {\r\n    return (\r\n        <div>\r\n            <article className=\"stay-preview fs16 flex column\">\r\n                <ImgCarousel stay={stay} />\r\n                <Link to={`/stay/${stay._id}`} className=\"primary-btn\">\r\n                    <span className=\"stay-rate align-center fs14 flex\">\r\n                        <i className='fa fa-star'></i>\r\n                        <span className=\"reviews-rate\">{stay.reviews[0].rate}</span>\r\n                        {stay.reviews.length === 1 && <span className=\"reviews-amount\">({stay.reviews.length} review)</span>}\r\n                        {stay.reviews.length > 1 && <span className=\"reviews-amount\">({stay.reviews.length} reviews)</span>}\r\n                    </span>\r\n                    <div className=\"stay-name fs16\"><TxtLength text={stay.name} /> </div>\r\n                    <p className=\"stay-summery fs16\">{`${stay.capacity} guests`} </p>\r\n                    <p className=\"stay-price fs16\">\r\n                        <span><b>${stay.price}</b></span>\r\n                        <span> / night</span>\r\n                    </p>\r\n                    <span className=\"save-btn\"><i className='fa fa-heart-o'></i></span>\r\n                </Link>\r\n            </article>\r\n        </div>\r\n    )\r\n}","import { StayPreview } from '../cmps/StayPreview.jsx'\r\n\r\nexport function StayList({ stays }) {\r\n    return (\r\n        <section className=\"stay-list card-grid\">\r\n            {stays.map((stay) => <StayPreview key={stay._id}stay={stay}/>)}\r\n        </section>\r\n    )\r\n}","import Loader from \"react-loader-spinner\";\r\nexport function LoaderCmp() {\r\n  //other logic\r\n  console.log('loader');\r\n  \r\n    return (\r\n      <div className=\"loader flex align-center justify-center\">\r\n      <Loader\r\n      type=\"Puff\"\r\n      color=\"#FF385C\"\r\n      height={300}\r\n      width={300}\r\n      timeout={3000} //3 secs\r\n      />\r\n      </div>\r\n    );\r\n  \r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadStays } from '../store/actions/stayActions.js'\r\nimport { setDates, setGuestAmount, setLocation } from '../store/actions/orderActions.js'\r\nimport { StayList } from '../cmps/StayList'\r\nimport { NavBar } from '../cmps/NavBar.jsx'\r\nimport { LoaderCmp } from '../cmps/LoaderCmp'\r\nimport { stayService } from '../services/stayService.js'\r\nimport { socketService } from '../services/socketService.js'\r\n\r\nclass _StayApp extends Component {\r\n    state = {\r\n        filterBy: {\r\n            location: '',\r\n        },\r\n        isModalShown: false,\r\n        x: 0,\r\n        y: 0,\r\n        isLoading: true\r\n    }\r\n    async componentDidMount() {\r\n        socketService.setup()\r\n        const filterBy = this.getFilterBy();\r\n        await this.props.loadStays(filterBy)\r\n        setTimeout(() => {\r\n            this.setState({ isLoading: false })\r\n        }, 1500);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const currLocation = this.getFilterBy().location\r\n        let search = prevProps.location.search;\r\n        let params = new URLSearchParams(search);\r\n        let prevLocation = params.get('loc');\r\n        if (currLocation !== prevLocation) {\r\n            this.props.loadStays(this.getFilterBy())\r\n        }\r\n    }\r\n\r\n    // componentWillUnmount() {\r\n    //     socketService.terminate()\r\n    // }\r\n\r\n\r\n    getFilterBy = () => {\r\n        let search = this.props.location.search;\r\n        let params = new URLSearchParams(search);\r\n        let location = params.get('loc');\r\n        const filterBy = { location }\r\n        return filterBy\r\n    }\r\n\r\n    loadStays = (filterBy) => {\r\n        this.props.loadStays(filterBy)\r\n    }\r\n\r\n    render() {\r\n        const { stays, order, setDates, setGuestAmount, setLocation } = this.props\r\n        if (this.state.isLoading) return (\r\n            <section style={{minHeight:'100vh'}}>\r\n                <NavBar order={order} setDates={setDates} setGuestAmount={setGuestAmount} setLocation={setLocation} />\r\n                <LoaderCmp />\r\n            </section>\r\n        )\r\n        if (!stays || stays === []) return <div>load</div>\r\n        const loc = this.getFilterBy().location\r\n        return (\r\n            <section className=\"stay-app\">\r\n\r\n                <NavBar order={order} setDates={setDates} setGuestAmount={setGuestAmount} setLocation={setLocation} />\r\n                {!loc && <h1 className=\"headline-explore\">Explore all stays</h1>}\r\n                {loc &&\r\n                    <h1 className=\"headline-explore\">Stays in {loc}</h1>\r\n                }\r\n                <StayList stays={stays} />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n        order: state.orderModule.currOrder\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStays,\r\n    setDates,\r\n    setGuestAmount,\r\n    setLocation\r\n}\r\n\r\nexport const StayApp = connect(mapStateToProps, mapDispatchToProps)(_StayApp)\r\n","export default __webpack_public_path__ + \"static/media/trips.827c284e.jpg\";","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Header } from '../cmps/Header.jsx'\r\nimport { utilService } from '../services/utilService'\r\nimport trips from '../assets/img/trips.jpg'\r\n\r\nclass _Trips extends Component {\r\n\r\n\r\n    render() {\r\n        const { orders } = this.props\r\n        return (\r\n            <section className=\"trips-page\">\r\n                <Header />\r\n                <h2>Trips</h2>\r\n                <div className=\"divider\"></div>\r\n                <div className=\"orders-container grid\">\r\n                    {orders.map(order =>\r\n                        <article className=\"flex column\">\r\n                            <img src={order.stay.imgUrls[0]} alt=\"stay\" />\r\n                            <section className=\"order-details\">\r\n                                <div className=\"dates fs16\">{utilService.formatTime(order.startDate)} - {utilService.formatTime(order.endDate)}</div>\r\n                                <h2 className=\"country fs26\">{order.stay.country}</h2>\r\n                                <div className=\"divider\"></div>\r\n                                <div className=\"fs14 description flex space-between align-center\">\r\n                                    <div className=\"img-container flex\">\r\n                                        <img src={order.stay.imgUrls[0]} alt=\"stay\" />\r\n                                    </div>\r\n                                    <div className=\"flex\">{order.stay.name}</div>\r\n                                    <span className=\"arrow flex  fs30\">›</span>\r\n                                </div>\r\n                            </section>\r\n                        </article>\r\n                    )}\r\n                </div>\r\n                <img src={trips} alt=\"trips\" />\r\n            </section>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        orders: state.userModule.orders,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nexport const Trips = connect(mapStateToProps, null)(_Trips)\r\n","export default __webpack_public_path__ + \"static/media/dashboard.80567332.png\";","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n// import Alert from '../cmps/Alert'\r\nimport { Header } from '../cmps/Header'\r\nimport dashboard from '../assets/img/dashboard.png'\r\nimport { socketService } from '../services/socketService'\r\nimport { loadUser } from '../store/actions/userActions'\r\n\r\nclass _Dashboard extends Component {\r\n   \r\n\r\n    componentDidMount() {\r\n        this.props.loadUser(this.props.loggedInUser._id)\r\n        socketService.emit('topic', this.props.loggedInUser._id)\r\n        socketService.on('load orders', () => this.props.loadUser(this.props.loggedInUser._id))\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socketService.off('load orders')\r\n    }\r\n\r\n\r\n    accepteOrder() {\r\n        console.log('accepted');\r\n    }\r\n\r\n    rejectOrder(){\r\n        console.log('rejected');\r\n    }\r\n\r\n    render() {\r\n        const { incomingOrders } = this.props.loggedInUser\r\n        return (\r\n            <section className=\"dashboard-page\">\r\n                <Header />\r\n                <h2>Pending / Accepted</h2>\r\n                <section className=\"host-container flex\">\r\n                    <section className=\"all-reservations flex column\">\r\n                        <div className=\"new-reservations\">\r\n                            {incomingOrders.map((order, idx) =>\r\n                                <div className=\"res-card flex\" key={idx}>\r\n                                    <div className=\"res-img\"><img src={order.guest.img} alt={order.stay.name} /> </div>\r\n                                    <div className=\"txt\">\r\n                                        <div className=\"name\">Request by: {order.guest.fullName}</div>\r\n                                        <div className=\"expire\">Expires in 12 hours</div>\r\n                                        <div className=\"desc flex column\">\r\n                                            {order.guestAmount.adults} guests ·\r\n                                            {order.startDate.slice(0, 10)} - {order.endDate.slice(0, 10)} ·\r\n                                            {order.stay.name}\r\n                                            </div>\r\n                                    </div>\r\n                                    <div className=\"order-status-container flex space-between\">\r\n                                        <div className=\"status accept-btn\" onClick={() => this.accepteOrder()}>Accept</div>\r\n                                        <div className=\"status reject-btn flex\" onClick={() => this.rejectOrder()}>Reject</div>\r\n                                        {/* <Alert text=\"Order accepted\" /> */}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </section>\r\n\r\n                    <div className=\"summary\">\r\n                        <h2 className=\"title\">Hosting summary</h2>\r\n                        <div className=\"details flex space-between\">\r\n                            <div className=\"txt\">\r\n                                <p className=\"head\">Fantastic job!</p>\r\n                                <div className=\"main\">\r\n                                    <p>Guests love what you're doing.</p>\r\n                                    <p>Keep up the great work!</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"v-img\"> <img src=\"http://homeseek-app.herokuapp.com/img/checkmark.0fe4b53e.svg\" alt=\"v-img\" /> </div>\r\n                        </div>\r\n                        <div className=\"earnings-container\">\r\n                            <div className=\"earnings  flex space-between\">\r\n                                <div >June earnings</div>\r\n                                <div className=\"green\">$2,650</div>\r\n                            </div>\r\n                            <div className=\"views flex space-between\">\r\n                                <div>60-day views</div>\r\n                                <div className=\"green\">820</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"reviews\">\r\n                            <div className=\"earnings flex space-between\">\r\n                                <div >Overall rating</div>\r\n                                <div className=\"green flex\"><i className=\"fa fa-star \"></i> <span>4.9</span> </div>\r\n                            </div>\r\n                            <div className=\"views flex space-between\">\r\n                                <div>Total reviews\r\n                           </div>\r\n                                <div className=\"green\">751</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"dashboard flex align-center justify-center\">\r\n                            <img src={dashboard} alt={dashboard} />\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </section>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        orders: state.userModule.orders,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadUser\r\n}\r\n\r\nexport const Dashboard = connect(mapStateToProps, mapDispatchToProps)(_Dashboard)\r\n","export function Footer() {\r\n    return (\r\n        <section className=\"footer-container flex align-center justify-center\">\r\n            <div className=\"copy\">\r\n                © Copy Rights 2021 Jaunt · Privacy · Terms · Sitemap\r\n            </div>\r\n            <div className=\"icons flex space-between\">\r\n                <i className=\"fab fa-linkedin\"></i>\r\n                <i className=\"fab fa-github-square\"></i>\r\n                <i className=\"fab fa-facebook-square\"></i>\r\n            </div>\r\n        </section>\r\n    );\r\n}","import React from 'react'\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\r\nimport { Home } from './pages/Home'\r\nimport { LoginSignup } from './pages/LoginSignup'\r\nimport { StayDetails } from './pages/StayDetails'\r\nimport { StayApp } from './pages/StayApp'\r\nimport { Trips } from './pages/Trips'\r\nimport { Dashboard } from './pages/Dashboard'\r\nimport { Footer } from './cmps/Footer'\r\n\r\n\r\nexport function App() {\r\n  return (\r\n    <div className=\"app\">\r\n      <Router>\r\n        <main className=\"main-container\">\r\n          <Switch>\r\n            <Route path=\"/stay/:id\" component={StayDetails} />\r\n            <Route path=\"/stay\" component={StayApp} />\r\n            <Route path=\"/trips\" component={Trips} />\r\n            <Route path=\"/dashboard\" component={Dashboard} />\r\n            <Route path=\"/login\" component={LoginSignup} />\r\n            <Route path=\"/\" component={Home} />\r\n          </Switch>\r\n        </main>\r\n        <footer className=\"main-container\">\r\n        <Footer/>\r\n        </footer>\r\n      </Router>\r\n    </div>\r\n  )\r\n}\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport function systemReducer (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true }\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false }\r\n    default: return state\r\n  }\r\n}\r\n","const initialState = {\r\n    currOrder: {\r\n        location: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        guestAmount: { adults: 0, children: 0, infants: 0 },\r\n    }\r\n}\r\n\r\nexport function orderReducer(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case 'SET_LOCATION':\r\n            return { ...state, currOrder: { ...state.currOrder, location: action.order.location } }\r\n        case 'SET_DATES':\r\n            return { ...state, currOrder: { ...state.currOrder, startDate: action.order.startDate, endDate: action.order.endDate } }\r\n        case 'SET_GUSET_AMOUNT':\r\n            return { ...state, currOrder: action.guestAmount }\r\n        case 'RESET_ORDER':\r\n            return { ...state, currOrder: action.emptyOrder }\r\n        case 'SET_ORDER':\r\n            return { ...state, currOrder: action.order }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","let localLoggedinUser = null\r\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\r\n\r\nconst initialState = {\r\n  loggedInUser: localLoggedinUser,\r\n  loginErr: null,\r\n  orders: []\r\n}\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'ADD_ORDER':\r\n      return { ...state, orders: [...state.orders, action.order] }\r\n    case 'CANCEL_ORDER':\r\n      return { ...state, orders: state.orders.filter(order => order._id !== action.orderId) }\r\n    case 'UPDATE_ORDER':\r\n      return {\r\n        ...state,\r\n        orders: state.orders.map(order =>\r\n          order._id === action.order._id ? action.order : order\r\n        )\r\n      }\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'ADD_USER':\r\n      return { ...state, user: action.user }\r\n    case 'REMOVE_USER':\r\n      return {\r\n        ...state,\r\n        users: state.users.filter(user => user._id !== action.userId)\r\n\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  currStay: null,\r\n  stays: []\r\n};\r\n\r\nexport function stayReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOAD_STAYS':\r\n      return {...state, stays: action.stays}\r\n    case 'SET_STAY':\r\n      return {...state, currStay: action.currStay}\r\n    case 'ADD_STAY':\r\n      return { ...state, stays: [action.stay, ...state.stays] }\r\n    case 'UPDATE_STAY':\r\n      return { ...state, stays: [action.stay, ...state.stays.filter(stay => action.stay._id !== stay._id)] }\r\n    case 'REMOVE_STAY':\r\n      return { ...state, stays: state.stays.filter(stay => stay._id !== action.stayId) }\r\n    default: return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport { systemReducer } from './systemReducer'\r\nimport { orderReducer } from './orderReducer'\r\nimport { userReducer } from './userReducer'\r\nimport { stayReducer } from './stayReducer'\r\n\r\nexport const rootReducer = combineReducers({\r\n  systemModule: systemReducer,\r\n  stayModule: stayReducer,\r\n  orderModule: orderReducer,\r\n  userModule: userReducer\r\n})\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\n\r\nimport thunk from 'redux-thunk'\r\nimport { rootReducer } from './reducers'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n)\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux'\r\nimport { App } from './App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport './assets/styles/main.scss'\r\nimport { store } from './store/store'\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.unregister();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}